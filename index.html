<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Page Show/Page Hide Bug</title>
</head>

<body>
	<h1>Home Page</h1>
	<p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Voluptate, laborum natus cum unde est optio, vel nulla harum quod cupiditate eos aut hic distinctio culpa adipisci vero ut voluptas dolorum!</p>
	<ul>
		<li>
			<a href="page-1.html">Page 1</a>
		</li>
		<li>
			<a href="page-2.html">Page 2</a>
		</li>
	</ul>

	<script type="text/javascript">
		console.log('Page load');

		window.onpageshow = function ( event ) {
			if (event.persisted) {
				console.log('onpageshow - homepage, from cache');
			} else {
				console.log('onpageshow - homepage, load');
			}
		};

		window.onpagehide = function ( event ) {
			if (event.persisted) {
				console.log('onpagehide - homepage');
			} else {
				console.log('onpagehide - homepage, load');
			}
		};
	</script>
</body>

</html>
